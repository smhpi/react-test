{"version":3,"sources":["utils/token.utils.js"],"names":["createToken","auth","jwt","sign","id","expiresIn","module","exports","generateToken","req","res","next","token","sendToken","setHeader","status","send","JSON","stringify","user"],"mappings":";;AAAA,IAAIA,cAAc,SAAdA,WAAc,CAASC,IAAT,EAAe;AAC7B,WAAOC,IAAIC,IAAJ,CAAS;AACRC,YAAIH,KAAKG;AADD,KAAT,EAEA,WAFA,EAGH;AACIC,mBAAW,KAAK;AADpB,KAHG,CAAP;AAMH,CAPD;;AASAC,OAAOC,OAAP,GAAiB;AACfC,mBAAe,uBAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACpCF,YAAIG,KAAJ,GAAYZ,YAAYS,IAAIR,IAAhB,CAAZ;AACA,eAAOU,MAAP;AACH,KAJc;AAKfE,eAAW,mBAASJ,GAAT,EAAcC,GAAd,EAAmB;AAC1BA,YAAII,SAAJ,CAAc,cAAd,EAA8BL,IAAIG,KAAlC;AACA,eAAOF,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,KAAKC,SAAL,CAAeT,IAAIU,IAAnB,CAArB,CAAP;AACH;AARc,CAAjB","file":"token.utils.js","sourcesContent":["var createToken = function(auth) {\r\n    return jwt.sign({\r\n            id: auth.id\r\n        }, 'my-secret',\r\n        {\r\n            expiresIn: 60 * 120\r\n        });\r\n};\r\n\r\nmodule.exports = {\r\n  generateToken: function(req, res, next) {\r\n      req.token = createToken(req.auth);\r\n      return next();\r\n  },\r\n  sendToken: function(req, res) {\r\n      res.setHeader('x-auth-token', req.token);\r\n      return res.status(200).send(JSON.stringify(req.user));\r\n  }\r\n};"]}