{"version":3,"sources":["dist/server.js"],"names":["_express","require","_express2","_interopRequireDefault","_schema","_schema2","_expressGraphql","_expressGraphql2","obj","__esModule","default","app","db","use","static","schema","connect","err","database","console","log","process","exit","listen","get","req","res","collection","find","toArray","links","json","send"],"mappings":"AAAA;;AAEA,IAAIA,WAAWC,QAAQ,SAAR,CAAf;;AAEA,IAAIC,YAAYC,uBAAuBH,QAAvB,CAAhB;;AAEA,IAAII,UAAUH,QAAQ,eAAR,CAAd;;AAEA,IAAII,WAAWF,uBAAuBC,OAAvB,CAAf;;AAEA,IAAIE,kBAAkBL,QAAQ,iBAAR,CAAtB;;AAEA,IAAIM,mBAAmBJ,uBAAuBG,eAAvB,CAAvB;;AAEA,SAASH,sBAAT,CAAgCK,GAAhC,EAAqC;AACnC,SAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AACD;;AAED,IAAIG,MAAM,CAAC,GAAGT,UAAUQ,OAAd,GAAV;AACA,IAAIE,KAAKX,QAAQ,MAAR,CAAT;;AAEAU,IAAIE,GAAJ,CAAQX,UAAUQ,OAAV,CAAkBI,MAAlB,CAAyB,MAAzB,CAAR;;AAEAH,IAAIE,GAAJ,CAAQ,UAAR,EAAoB,CAAC,GAAGN,iBAAiBG,OAArB,EAA8B;AAChDK,UAAQV,SAASK;AAD+B,CAA9B,CAApB;;AAIAE,GAAGI,OAAH,CAAW,gCAAX,EAA6C,UAAUC,GAAV,EAAeC,QAAf,EAAyB;AACpE,MAAID,GAAJ,EAAS;AACPE,YAAQC,GAAR,CAAY,6BAAZ;AACAC,YAAQC,IAAR,CAAa,CAAb;AACD;;AAEDX,MAAIY,MAAJ,CAAW,IAAX,EAAiB,YAAY;AAC3B,WAAOJ,QAAQC,GAAR,CAAY,yBAAZ,CAAP;AACD,GAFD;AAGAT,MAAIa,GAAJ,CAAQ,MAAR,EAAgB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAClC,QAAIC,aAAaF,IAAIP,QAAJ,CAAaS,UAAb,CAAwB,OAAxB,CAAjB;AACAA,eAAWC,IAAX,GAAkBC,OAAlB,CAA0B,UAAUZ,GAAV,EAAea,KAAf,EAAsB;AAC9C,UAAIb,GAAJ,EAAS;AACPE,gBAAQC,GAAR,CAAY,6BAAZ;AACAC,gBAAQC,IAAR,CAAa,CAAb;AACD;AACDI,UAAIK,IAAJ,CAASD,KAAT;AACD,KAND;AAOAJ,QAAIM,IAAJ,CAAS,eAAT;AACD,GAVD;AAWD,CApBD;AAqBA;AACA;AACA;AACA","file":"server.js","sourcesContent":["'use strict';\r\n\r\nvar _express = require('express');\r\n\r\nvar _express2 = _interopRequireDefault(_express);\r\n\r\nvar _schema = require('./data/schema');\r\n\r\nvar _schema2 = _interopRequireDefault(_schema);\r\n\r\nvar _expressGraphql = require('express-graphql');\r\n\r\nvar _expressGraphql2 = _interopRequireDefault(_expressGraphql);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n  return obj && obj.__esModule ? obj : { default: obj };\r\n}\r\n\r\nvar app = (0, _express2.default)();\r\nvar db = require('./db');\r\n\r\napp.use(_express2.default.static('dist'));\r\n\r\napp.use('/graphql', (0, _expressGraphql2.default)({\r\n  schema: _schema2.default\r\n}));\r\n\r\ndb.connect('mongodb://localhost:27017/mydb', function (err, database) {\r\n  if (err) {\r\n    console.log('Unable to connect to Mongo.');\r\n    process.exit(1);\r\n  }\r\n\r\n  app.listen(8080, function () {\r\n    return console.log('Listening on port 8080!');\r\n  });\r\n  app.get('/api', function (req, res) {\r\n    var collection = req.database.collection('links');\r\n    collection.find().toArray(function (err, links) {\r\n      if (err) {\r\n        console.log('Unable to connect to Mongo.');\r\n        process.exit(1);\r\n      }\r\n      res.json(links);\r\n    });\r\n    res.send('Hello Express');\r\n  });\r\n});\r\n//# sourceMappingURL=server.js.map\r\n//# sourceMappingURL=server.js.map\r\n//# sourceMappingURL=server.js.map\r\n//# sourceMappingURL=server.js.map\r\n"]}